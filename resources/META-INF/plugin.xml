<idea-plugin url="https://github.com/ben-gibson/GitLink">
    <id>uk.co.ben-gibson.remote.repository.mapper</id>
    <name>GitLink</name>
    <version>3.3.1</version>
    <vendor url="https://github.com/ben-gibson/GitLink">Ben Gibson</vendor>
    <description><![CDATA[
    <p>
        Provides a shortcut to open a file or commit in GitHub, Bitbucket, GitLab, Gitea, Gogs or GitBlit using the
        default browser. A Shortcut is also available to copy links to your clipboard.
    </p>
    </br>
    </br>
    <p>
        After installing select your remote host in Settings &rarr; Other Settings &rarr; GitLink.
        Make sure you have registered your project's root under the version control settings.
        Preferences â†’ Version Control (see unregistered roots)
    </p>
    </br>
    </br>
    <p>
        To open a file in the default browser select View &rarr; Open in (your selected host). Shortcuts are also
        available on the annotation gutter and VCS log window.
    </p>
    </br>
    </br>
    <p>
        <strong>Note: When viewing a file, the URL generated references the current commit unless that commit does not exist on the remote
          repository in which case it references the current branch instead. If the current branch also does not exist on the remote
          repository the default branch defined in the plugin configuration is used instead.</strong>
    </p>
    ]]></description>
    <change-notes><![CDATA[
    <ul>
      <li>
            Add preference to disable check for a commit's existence on the remote. <a href="https://github.com/ben-gibson/GitLink/issues/97">#97</a>
      </li>
    </ul>
    ]]>
    </change-notes>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
    <idea-version since-build="139.0"/>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->

    <depends>com.intellij.modules.vcs</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.Git.RepositoryFactory" />
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.UI.ExceptionRenderer" />
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.Url.Modifier.UrlModifierProvider" />
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.Plugin"/>
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.Url.Substitution.URLTemplateProcessor"/>
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.Url.Handler.BrowserHandler"/>
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.Url.Handler.ClipboardHandler"/>
        <projectService serviceImplementation="uk.co.ben_gibson.git.link.Preferences"/>
        <applicationService serviceImplementation="uk.co.ben_gibson.git.link.GitLink" />
        <projectConfigurable instance="uk.co.ben_gibson.git.link.UI.Settings.ConfigurableSettings"/>
        <selectInTarget implementation="uk.co.ben_gibson.git.link.UI.Extensions.BrowserSelectInTarget"/>
        <vcsAnnotationGutterActionProvider implementation="uk.co.ben_gibson.git.link.UI.Extensions.AnnotationGutterActionProvider" />
    </extensions>

    <actions>

        <action
            id="uk.co.ben_gibson.git.link.UI.Action.Menu.MenuAction.Browser"
            class="uk.co.ben_gibson.git.link.UI.Action.Menu.BrowserMenuAction"
            text="Open in git host"
            description="Opens the file in the git host using the default browser"
        >
            <add-to-group group-id="ViewMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu"/>
            <add-to-group group-id="ProjectViewPopupMenu"/>
            <add-to-group group-id="EditorTabPopupMenu"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="shift ctrl O"/>
            <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl O"/>
        </action>

        <action
            id="uk.co.ben_gibson.git.link.UI.Action.Menu.MenuAction.Clipboard"
            class="uk.co.ben_gibson.git.link.UI.Action.Menu.ClipboardMenuAction"
            text="Copy link to git host"
            description="Copies a link to the clipboard pointing to the file in the git host"
        >
            <add-to-group group-id="ViewMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu"/>
            <add-to-group group-id="ProjectViewPopupMenu"/>
            <add-to-group group-id="EditorTabPopupMenu"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="shift ctrl C"/>
            <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl C"/>
        </action>

        <action
            id="uk.co.ben_gibson.git.link.UI.Action.VcsLog.BrowserVcsAction"
            class="uk.co.ben_gibson.git.link.UI.Action.VcsLog.BrowserVcsAction"
            text="Open in git host"
            description="Opens the commit in the git host using the default browser"
        >
            <add-to-group group-id="Git.LogContextMenu" />
            <add-to-group group-id="Vcs.Log.ContextMenu" />
        </action>

        <action
            id="uk.co.ben_gibson.git.link.UI.Action.VcsLog.ClipboardVcsAction"
            class="uk.co.ben_gibson.git.link.UI.Action.VcsLog.ClipboardVcsAction"
            text="Copy link to git host"
            description="Copies a link to the clipboard pointing to the commit in the git host"
        >
            <add-to-group group-id="Git.LogContextMenu" />
            <add-to-group group-id="Vcs.Log.ContextMenu" />
        </action>

    </actions>

</idea-plugin>